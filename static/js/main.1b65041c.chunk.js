(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},149:function(e,t,a){},163:function(e,t,a){},17:function(e,t,a){e.exports={Test:"TestItem_Test__3Ab77",TestWrapper:"TestItem_TestWrapper__3tA8_",TestTopIcons:"TestItem_TestTopIcons__3jI9O","fa-heart":"TestItem_fa-heart__3JYhv",TestProfile:"TestItem_TestProfile__HNfPO",TestProfileCheck:"TestItem_TestProfileCheck__2TPZ3",TestThumbail:"TestItem_TestThumbail__2mbWd",TestProfileName:"TestItem_TestProfileName__2Midb",TestProfileTitle:"TestItem_TestProfileTitle__1PoT7",TestProfileDescription:"TestItem_TestProfileDescription__-HA6e",TestProfileBtn:"TestItem_TestProfileBtn__36eJX",TestSocialIcon:"TestItem_TestSocialIcon__3-5KV",TestPassedInfo:"TestItem_TestPassedInfo__15mI8",TestPassedInfoAmount:"TestItem_TestPassedInfoAmount__1vlL8",TestPassedRange:"TestItem_TestPassedRange__3qViC",TestPassedRangeCircleOne:"TestItem_TestPassedRangeCircleOne__EPjJL",TestPassedRangeCircleTwo:"TestItem_TestPassedRangeCircleTwo__20t7R"}},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(33),s=a.n(i),o=a(23),c=a(73),l=a(18),u=(a(94),a(96),a(177)),d=a(5),m=a.n(d),p=a(7),f=a(10),_=a(11),v=a(13),h=a(12),E=a(14),T=a(6),b=a(176),g=a(37),I=a.n(g),N=a(42),O=a.n(N),C=a(32),y=a.n(C),j=[{to:"/catalog/",label:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",exact:!1},{to:"/constructor/",label:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",exact:!1}],S=function(e){var t=e.user;return r.a.createElement("ul",{className:y.a.MainNav},t&&j.map(function(e,t){var a=t+e;return r.a.createElement("li",{key:a,className:y.a.MainNavItem},r.a.createElement(b.a,{to:e.to,exact:e.exact,className:y.a.MainNavItemLink,activeClassName:y.a.MainNavItemLinkActive},e.label))}))};S.defaultProps={user:null};var w=S,k=a(45),R=a.n(k),z=function(e){var t=e.user,a=e.onLogIn,n=e.onLogOut;return r.a.createElement("div",{className:R.a.UserNav},t?r.a.createElement("div",{className:R.a.UserNavPicWrapper,title:t.displayName},r.a.createElement("img",{className:R.a.UserNavPic,src:t.photoURL,alt:t.displayName})):null,r.a.createElement("button",{type:"button",className:R.a.UserNavBtn,onClick:t?n:a},t?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438"))};z.defaultProps={user:null};var A=z,P=function(e){var t=e.user,a=e.onLogIn,n=e.onLogOut;return r.a.createElement("nav",{className:O.a.Navigation},r.a.createElement("div",{className:O.a.NavigationWrapper},r.a.createElement(w,{user:t}),r.a.createElement(A,{user:t,onLogIn:a,onLogOut:n})))};P.defaultProps={user:null};var Q=P,x=function(e){var t=e.user,a=e.onLogIn,n=e.onLogOut;return r.a.createElement("header",{className:I.a.Header},r.a.createElement("div",{className:I.a.HeaderInner},r.a.createElement(b.a,{className:I.a.HeaderLogo,to:"/catalog"},"\u0418\u043d\u0441\u0430\u0439\u0434\u0438\u044f"),r.a.createElement(Q,{user:t,onLogIn:a,onLogOut:n})))};x.defaultProps={user:null};var L=x,q=a(179),F=a(178),M=a(43),U=a(180),B=a(52),D=a.n(B),W=function(e){var t=e.children;return r.a.createElement("div",{className:D.a.Layout},r.a.createElement("main",{className:D.a.LayoutMain},t))};W.defaultProps={children:null};var H=W,Z=a(50),V=a.n(Z),J=a(46),Y=a.n(J),X=function(e){var t=e.links;return r.a.createElement("nav",{className:Y.a.Navigation},t.map(function(e,t){var a=t+e;return r.a.createElement("li",{key:a,className:Y.a.NavigationItem},r.a.createElement(b.a,{to:e.to,exact:e.exact,className:Y.a.NavigationItemLink,activeClassName:Y.a.NavigationItemLinkActive},e.label))}))},K=a(30),G=a(53),$=a.n(G),ee=a(44),te=a(17),ae=a.n(te),ne=(a(117),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).ironImageRef=r.a.createRef(),a.preloadImageRef=r.a.createRef(),a}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=new window.Image;a.src=t.srcLoaded,a.addEventListener("load",function(){e.ironImageRef.current&&(e.ironImageRef.current.setAttribute("style","background-image: url('".concat(t.srcLoaded,"')")),e.ironImageRef.current.classList.add("iron-image-fade-in"),e.preloadImageRef.current.style.background="none")})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,a=new window.Image;a.src=t.srcLoaded,a.addEventListener("load",function(){e.ironImageRef.current&&e.ironImageRef.current.setAttribute("style","background-image: url('".concat(t.srcLoaded,"')"))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"iron-image-container"},r.a.createElement("div",{className:"iron-image-loaded",ref:this.ironImageRef}),r.a.createElement("div",{className:"iron-image-preload",style:{backgroundImage:"url('img/default.png')"},ref:this.preloadImageRef}))}}]),t}(n.Component)),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(t){return e[t].isPassed}).length},ie=function(e){var t=re(e),a=Object.keys(e).length;return 0===t&&0===a?0:t/a*100},se=function(e){var t=e.id,a=e.image,n=e.name,i=e.title,s=e.description,o=e.isEditable,c=e.onRemoveBtnClick,l=e.onEditBtnClick,u=e.isFavorite,d=e.onFavoriteBtnClick,m=e.location,p=e.quizes;return r.a.createElement("div",{className:ae.a.Test},r.a.createElement("div",{className:ae.a.TestWrapper},r.a.createElement("div",{className:ae.a.TestTopIcons},o&&r.a.createElement("button",{onClick:function(){return c(t)},type:"button"},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement("button",{style:{margin:"0 auto"},onClick:function(){return d(t)},type:"button"},r.a.createElement("i",{className:u?"fa fa-heart":"far fa-heart"})),o&&r.a.createElement("button",{onClick:function(){return l(t)},type:"button"},r.a.createElement("i",{className:"far fa-edit"}))),r.a.createElement("div",{className:ae.a.TestProfile},r.a.createElement(ne,{srcPreload:a,srcLoaded:a||"img/default.png"}),100===ie(p)?r.a.createElement("div",{className:ae.a.TestProfileCheck},r.a.createElement("i",{className:"fas fa-check"})):null,r.a.createElement("h3",{className:ae.a.TestProfileName},n),r.a.createElement("p",{className:ae.a.TestProfileTitle},i),r.a.createElement("p",{className:ae.a.TestProfileDescription},s),r.a.createElement("p",{className:ae.a.TestPassedInfo},r.a.createElement("svg",{className:ae.a.TestPassedRange,viewBox:"0 0 32 32"},r.a.createElement("circle",{className:ae.a.TestPassedRangeCircleOne,r:"16",cx:"16",cy:"16"}),r.a.createElement("circle",{style:{strokeDasharray:"".concat(ie(p)," 100")},className:ae.a.TestPassedRangeCircleTwo,r:"16",cx:"16",cy:"16"})),r.a.createElement("span",{className:ae.a.TestPassedInfoAmount},"".concat(re(p),"/").concat(Object.keys(p).length))),r.a.createElement(ee.a,{to:{pathname:"".concat(t,"/"),state:{from:m}},className:ae.a.TestProfileBtn},"\u041a \u0442\u0435\u0441\u0442\u0430\u043c"))))};se.defaultProps={image:"",title:"",isEditable:!1},se.defaultProps={quizes:[],onRemoveBtnClick:function(){},onFavoriteBtnClick:function(){},onEditBtnClick:function(){}};var oe=se,ce=a(54),le=a.n(ce),ue=function(){return r.a.createElement("div",{className:le.a.center},r.a.createElement("div",{className:le.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},de=a(3),me=a(47),pe=a.n(me);pe.a.initializeApp({apiKey:"AIzaSyBmRvFOyC535DEUyRYfi85mBYoJIquAoVg",authDomain:"insideland-d53aa.firebaseapp.com",databaseURL:"https://insideland-d53aa.firebaseio.com",projectId:"insideland-d53aa",storageBucket:"gs://insideland-d53aa.appspot.com",messagingSenderId:"413218801184"});var fe=new pe.a.auth.GoogleAuthProvider,_e=pe.a.auth(),ve=pe.a,he=a(75),Ee=a.n(he).a.create({baseURL:"https://insideland-d53aa.firebaseio.com/"}),Te=function(e){return{type:"FETCH_TESTS_SUCCESS",tests:e}},be=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_TESTS_START"}),e.prev=1,e.next=4,Ee.get("tests.json");case 4:a=e.sent,(n=a.data)||(n={}),r=Object.keys(n).reverse().map(function(e){var t=n[e];return t.id=e,t.info.id=e,t}),t(Te(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"FETCH_TESTS_ERROR",error:e.t0});case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()},ge=function(e){return{type:"ADD_TEST_TO_FAVORITES_SUCCESS",tests:e}},Ie=function(e){return{type:"ADD_NEW_TEST_SUCCESS",test:e}},Ne=function(e){return{type:"REMOVE_TEST_SUCCESS",id:e}},Oe=function(e){return{type:"EDIT_TEST_SUCCESS",tests:e}},Ce=(a(149),function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTests()}},{key:"render",value:function(){var e=this.props;return r.a.createElement("div",{className:$.a.Tests},e.isLoading?r.a.createElement(ue,null):function(e){var t=e.tests,a=e.location;return t.length?r.a.createElement(K.TransitionGroup,{component:null},t.map(function(e){var t=e.info,n=e.quizes;return r.a.createElement(K.CSSTransition,{key:t.id,timeout:500,classNames:"move"},r.a.createElement(oe,Object.assign({},t,{quizes:n,location:a})))})):r.a.createElement("div",{className:$.a.EmptyList},"\u0422\u0435\u0441\u0442\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b.")}(e))}}]),t}(n.Component)),ye=Object(l.b)(function(e){return{tests:e.catalog.tests,isLoading:e.catalog.isLoading}},function(e){return{fetchTests:function(){return e(be())}}})(Ce),je=a(76),Se=a.n(je),we=a(21),ke=a.n(we),Re=a(77),ze=a.n(Re),Ae=function(e){var t=e.children,a=e.to,n=e.location,i=e.id,s=a?r.a.createElement(b.a,{className:ze.a.Td,to:{pathname:a,state:{from:n,testId:i}}},t):t;return r.a.createElement("td",null,s)};Ae.defaultProps={to:null,children:[],location:{},id:""};var Pe=Ae,Qe={numeric:"\u0427\u0438\u0441\u043b\u043e\u0432\u044b\u0435",verbal:"\u0412\u0435\u0440\u0431\u0430\u043b\u044c\u043d\u044b\u0435",logical:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435"},xe={numeric:"#edebff",verbal:"#e4e4fe",logical:"#e4e4fe"},Le=function(e){var t,a=e.quizes,n=e.location,i=e.editor,s=e.id,o=new Map;t=Object.keys(a).length?a:[];var c=!!Object.keys(i).length;return r.a.createElement("table",{className:ke.a.TestsTable,cellSpacing:"0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0422\u0438\u043f"),r.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"),r.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),i.isEditable?r.a.createElement("th",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440"):r.a.createElement("th",null,"\u041f\u0440\u043e\u0439\u0434\u0435\u043d"))),r.a.createElement("tbody",null,c?r.a.createElement("tr",null,r.a.createElement("td",{className:ke.a.NewItemBtnWrapper,colSpan:"5"},r.a.createElement("button",{className:ke.a.NewItemBtn,type:"button",onClick:i.onAdd}))):null,t.map(function(e){var t="";return o.get(Qe[e.type])||(t=Qe[e.type],o.set(t,!0)),r.a.createElement("tr",{style:{backgroundColor:t&&xe[e.type]},key:e.id},r.a.createElement(Pe,{to:"".concat(e.id),location:n,id:s},"".concat(t)),r.a.createElement(Pe,{to:"".concat(e.id),location:n,id:s},"".concat(e.name)),r.a.createElement(Pe,{to:"".concat(e.id),location:n,id:s},"".concat(e.questionCount)),r.a.createElement(Pe,{to:"".concat(e.id),location:n,id:s},"".concat(e.time||"")),r.a.createElement(Pe,null,i.isEditable||null===e.isPassed||void 0===e.isPassed?null:r.a.createElement("img",{width:"30",height:"30",src:e.isPassed?"img/icon-tick.svg":"img/icon-error.svg",alt:e.name}),i.isEditable?r.a.createElement("span",{className:ke.a.BtnWrapper},r.a.createElement("button",{className:[ke.a.Btn,ke.a.BtnEdit].join(" "),type:"button",title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){return i.onEdit(e.id)}}),r.a.createElement("button",{className:[ke.a.Btn,ke.a.BtnCopy].join(" "),type:"button",title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:function(){return i.onCopy(e.id)}}),r.a.createElement("button",{className:[ke.a.Btn,ke.a.BtnRemove].join(" "),type:"button",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){return i.onRemove(e.id)}})):null))})))};Le.defaultProps={quizes:{},editor:{}};var qe=Le,Fe=a(19),Me=a.n(Fe),Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(t){return e[t].isPassed}).length},Be=function(e){var t=Ue(e),a=Object.keys(e).length;return 0===t&&0===a?0:t/a*100},De=function(e){var t=e.image,a=e.name,n=e.title,i=e.description,s=e.isFavorite,o=e.quizes;return r.a.createElement("div",{className:Me.a.Test},r.a.createElement("div",{className:Me.a.TestWrapper},r.a.createElement("div",{className:Me.a.TestTopIcons},r.a.createElement("i",{style:{margin:"0 auto"},className:s?"fa fa-heart":"far fa-heart"})),r.a.createElement("div",{className:Me.a.TestProfile},r.a.createElement(ne,{srcPreload:t,srcLoaded:t||"img/default.png"}),100===Be(o)?r.a.createElement("div",{className:Me.a.TestProfileCheck},r.a.createElement("i",{className:"fas fa-check"})):null,r.a.createElement("h3",{className:Me.a.TestProfileName},a),r.a.createElement("p",{className:Me.a.TestProfileTitle},n),r.a.createElement("p",{className:Me.a.TestProfileDescription},i),r.a.createElement("p",{className:Me.a.TestPassedInfo},r.a.createElement("svg",{className:Me.a.TestPassedRange,viewBox:"0 0 32 32"},r.a.createElement("circle",{className:Me.a.TestPassedRangeCircleOne,r:"16",cx:"16",cy:"16"}),r.a.createElement("circle",{style:{strokeDasharray:"".concat(Be(o)," 100")},className:Me.a.TestPassedRangeCircleTwo,r:"16",cx:"16",cy:"16"})),r.a.createElement("span",{className:Me.a.TestPassedInfoAmount},"".concat(Ue(o),"/").concat(Object.keys(o).length))))))};De.defaultProps={image:"",title:"",isFavorite:!1,quizes:[]};var We=De,He=a(26),Ze=null,Ve=function(e){return"".concat(Math.floor(e/60),":").concat("0".concat(e%60).slice(-2))},Je=function(e){return{type:"FETCH_QUIZES_SUCCESS",data:e}},Ye=function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n,r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_QUIZES_START"}),t.prev=1,t.next=4,Ee.get("/tests/".concat(e,".json"));case 4:n=t.sent,r={info:Object(de.a)({},n.data.info),quizes:[]},n.data.quizes&&(r.quizes=Object.keys(n.data.quizes).map(function(e){return Object(de.a)({},n.data.quizes[e],{id:e})})),a(Je(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"FETCH_QUIZES_ERROR",error:t.t0});case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()},Xe={type:"FETCH_QUIZ_START"},Ke=function(e){return{type:"FETCH_QUIZ_SUCCESS",quiz:e}},Ge=function(){return function(e){clearInterval(Ze),e({type:"START_TIMER"}),Ze=setInterval(function(){return e({type:"TICK_TIMER"})},1e3)}},$e=function(){return clearInterval(Ze),{type:"STOP_TIMER"}},et=function(e,t){return{type:"QUIZ_SET_STATE",answerState:e,results:t}},tt=function(e,t,a){return function(n,r){var i=r().quiz,s=i.results,o=i.quiz[i.activeQuestion];if(i.answerState){var c=Object.keys(i.answerState)[0];if("success"===i.answerState[c])return}if(o.rightAnswerId===e){s[o.id]||(s[o.id]="success"),n(et(Object(He.a)({},e,"success"),s));var l=window.setTimeout(function(){if(function(e){return e.activeQuestion+1===e.quiz.length}(i)){n($e());var e=function(e){return Object.keys(e.results).map(function(t){return e.results[t]}).every(function(e){return"success"===e})}(i),r=Ve(i.time),s=i.quizes.filter(function(e){return e.id===a})[0];Ee.put("/tests/".concat(t,"/quizes/").concat(a,".json"),Object(de.a)({},s,{time:r,isPassed:e})),n({type:"QUIZ_FINISH"})}else n({type:"QUIZ_NEXT_QUESTION",number:i.activeQuestion+1});window.clearTimeout(l)},1e3)}else s[o.id]="error",n(et(Object(He.a)({},e,"error"),s))}},at=function(e){return{type:"REMOVE_QUIZ_SUCCESS",id:e}},nt=function(e){return{type:"ADD_NEW_QUIZ_SUCCESS",newQuiz:e}},rt=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.match.params.id,t.fetchQuizes(a);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.match.params.id;return e.isLoading||!e.info?r.a.createElement(ue,null):r.a.createElement("div",{className:Se.a.TestInfo},r.a.createElement(qe,{quizes:e.quizes,location:e.location,id:t}),r.a.createElement(We,Object.assign({},e.info,{quizes:e.quizes,location:e.location})))}}]),t}(n.Component),it=Object(l.b)(function(e){return{quizes:e.quiz.quizes,info:e.quiz.info,isLoading:e.quiz.isLoading}},function(e){return{fetchQuizes:function(t){return e(Ye(t))}}})(rt),st=a(55),ot=a.n(st),ct=a(56),lt=a.n(ct),ut=a(78),dt=a.n(ut),mt=a(57),pt=a.n(mt),ft=function(e){var t=e.answer,a=e.onAnswerClick,n=e.state,i=[pt.a.AnswerItem];return n&&i.push(pt.a[n]),r.a.createElement("li",null,r.a.createElement("button",{type:"button",className:i.join(" "),onClick:function(){return a(t.id)}},t.text))};ft.defaultProps={state:null};var _t=ft,vt=function(e){var t=e.answers,a=e.onAnswerClick,n=e.state;return r.a.createElement("ul",{className:dt.a.AnswersList},t.map(function(e,t){var i=e+t;return r.a.createElement(_t,{key:i,answer:e,onAnswerClick:a,state:n?n[e.id]:null})}))};vt.defaultProps={state:null};var ht=vt,Et=function(e){var t=e.answers,a=e.question,n=e.onAnswerClick,i=e.answerNumber,s=e.quizLength,o=e.state;return r.a.createElement("div",{className:lt.a.ActiveQuiz},r.a.createElement("p",{className:lt.a.Question},r.a.createElement("span",null,r.a.createElement("strong",null,i,"."),"\xa0",a),r.a.createElement("small",null,i,"\xa0\u0438\u0437\xa0",s)),r.a.createElement(ht,{state:o,answers:t,onAnswerClick:n}))};Et.defaultProps={state:null};var Tt=Et,bt=a(48),gt=a.n(bt),It=Object(U.a)(function(e){var t=e.results,a=e.quiz,n=e.onRetry,i=e.location,s=Object.keys(t).reduce(function(e,a){var n=e;return"success"===t[a]&&(n+=1),n},0);return r.a.createElement("div",{className:gt.a.FinishedQuiz},r.a.createElement("ul",{className:gt.a.FinishedQuizList},a.map(function(e,a){var n=e+a,i=["fa","error"===t[e.id]?"fa-times":"fa-check",gt.a[t[e.id]]];return r.a.createElement("li",{className:gt.a.FinishedQuizItem,key:n},r.a.createElement("strong",null,a+1),". \xa0",e.question,r.a.createElement("i",{className:i.join(" ")}))})),r.a.createElement("p",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\xa0",s,"\xa0\u0438\u0437\xa0",a.length),r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:n,type:"button"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"),r.a.createElement(ee.a,{to:i.state.from},r.a.createElement("span",{className:"btn"},"\u041d\u0430\u0437\u0430\u0434 \u043a \u0442\u0435\u0441\u0442\u0430\u043c"))))}),Nt=a(80),Ot=a.n(Nt),Ct=function(e){var t=e.time;return r.a.createElement("div",{className:Ot.a.Timer},t)},yt=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.location.state.testId,n=t.match.params.id,t.fetchQuizById(a,n);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.stopQuiz()}},{key:"render",value:function(){var e=this.props,t=e.location.state.testId,a=e.match.params.id;return r.a.createElement("div",{className:ot.a.Quiz},r.a.createElement("div",{className:ot.a.QuizWrapper},r.a.createElement("h1",null,"\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"),e.isFinished?null:r.a.createElement(Ct,{time:Ve(e.time)}),e.loading||!e.quiz?r.a.createElement(ue,null):e.isFinished?r.a.createElement(It,{results:e.results,quiz:e.quiz,onRetry:e.retryQuiz,time:e.time,location:e.location}):r.a.createElement(Tt,{question:e.quiz[e.activeQuestion].question,answers:e.quiz[e.activeQuestion].answers,onAnswerClick:function(n){return e.quizAnswerClick(n,t,a)},answerNumber:e.activeQuestion+1,quizLength:e.quiz.length,state:e.answerState})))}}]),t}(n.Component),jt=Object(l.b)(function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerState:e.quiz.answerState,quiz:e.quiz.quiz,loading:e.quiz.loading,time:e.quiz.time}},function(e){return{fetchQuizById:function(t,a){return e(function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,i,s;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(Xe),a.next=4,Ee.get("/tests/".concat(e,"/quizes/").concat(t,".json"));case 4:if(r=a.sent,i=r.data,s=i.quiz,r.isPassed){a.next=10;break}return a.next=10,Ee.put("/tests/".concat(e,"/quizes/").concat(t,".json"),Object(de.a)({},i,{isPassed:!1}));case 10:n(Ke(s)),n(Ge()),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),n({type:"FETCH_QUIZ_ERROR",error:a.t0});case 17:case"end":return a.stop()}},a,this,[[0,14]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},quizAnswerClick:function(t,a,n){return e(tt(t,a,n))},retryQuiz:function(){return e(function(e){e({type:"QUIZ_RETRY"}),e(Ge())})},stopQuiz:function(){return e(function(e){e({type:"QUIZ_RETRY"}),e($e())})}}})(yt),St=[{to:"/catalog/tests/",label:"\u0422\u0435\u0441\u0442\u044b",exact:!1}],wt=Object(U.a)(function(e){var t=e.location;return r.a.createElement("div",{className:V.a.Catalog},r.a.createElement(X,{links:St}),r.a.createElement("div",{className:V.a.CatalogContentWrapper},r.a.createElement("div",{className:V.a.CatalogContent},r.a.createElement(q.a,{location:t},t.state?r.a.createElement(M.a,{path:"/catalog/tests/:id/:id",component:jt}):r.a.createElement(F.a,{from:"/catalog/tests/:id/:id",exact:!0,to:"/catalog/tests/"}),r.a.createElement(M.a,{path:"/catalog/tests/:id/",component:it}),r.a.createElement(M.a,{path:"/catalog/tests/",component:ye})))))}),kt=a(51),Rt=a.n(kt),zt=a(31),At=a.n(zt),Pt=a(28),Qt=a.n(Pt),xt=(a(163),a(165),a(81)),Lt=a.n(xt),qt=a(9),Ft=a.n(qt),Mt={image:"",name:"",title:"",description:""},Ut=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).state={isSaving:!1,data:{},imageFile:null},a.nameRef=r.a.createRef(),a.onChange=a.onChange.bind(Object(T.a)(Object(T.a)(a))),a.onSubmit=a.onSubmit.bind(Object(T.a)(Object(T.a)(a))),a.onReset=a.onReset.bind(Object(T.a)(Object(T.a)(a))),a.handleFiles=a.handleFiles.bind(Object(T.a)(Object(T.a)(a))),a.removeImage=a.removeImage.bind(Object(T.a)(Object(T.a)(a))),a}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.nameRef.current.focus()},400);var t=this.props;if(t.data){var a=Object(de.a)({},t.data);this.setState({data:a})}}},{key:"onChange",value:function(e){var t=e.target;this.setState(function(e){return{data:Object(de.a)({},e.data,Object(He.a)({},t.name,t.value))}})}},{key:"onSubmit",value:function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state,n=this.props,this.setState({isSaving:!0}),e.next=5,n.onAddTest(a.data,a.imageFile);case 5:this.reset(),this.setState({isSaving:!1});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onReset",value:function(){this.reset()}},{key:"removeImage",value:function(){this.setState(function(e){return{data:Object(de.a)({},e.data,{image:""}),imageFile:null}})}},{key:"reset",value:function(){this.setState({data:Mt,imageFile:null})}},{key:"handleFiles",value:function(e){this.setState(function(t){return{data:Object(de.a)({},t.data,{image:e.base64}),imageFile:e.fileList[0]}})}},{key:"render",value:function(){var e=this.state,t=e.data,a=t.image||"img/default.png",n=t.image||"Default image";return r.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},e.isSaving&&r.a.createElement("div",{className:Ft.a.AddNewItemPicSpinner}),r.a.createElement("div",{className:Ft.a.AddNewItemPic},r.a.createElement("div",{className:Ft.a.AddNewItemImgWrapper},r.a.createElement("img",{src:a,alt:n})),r.a.createElement("div",{className:Ft.a.AddNewItemPicBtns},r.a.createElement(Lt.a,{handleFiles:this.handleFiles,base64:!0,multipleFiles:!1},r.a.createElement("button",{className:Ft.a.AddNewItemBtnAddPic,type:"button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")),t.image&&"img/default.png"!==t.image.base64&&r.a.createElement("button",{className:Ft.a.AddNewItemBtnDeletePic,type:"button",onClick:this.removeImage},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement("label",{className:Ft.a.AddNewItemLabel,htmlFor:"name"},r.a.createElement("input",{ref:this.nameRef,className:Ft.a.AddNewItemInput,type:"text",id:"name",name:"name",value:t.name||"",onChange:this.onChange,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",spellCheck:"false",required:!0}),r.a.createElement("span",{className:Ft.a.AddNewItemInputBorder})),r.a.createElement("label",{className:Ft.a.AddNewItemLabel,htmlFor:"title"},r.a.createElement("input",{className:Ft.a.AddNewItemInput,type:"text",id:"title",name:"title",value:t.title||"",onChange:this.onChange,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",spellCheck:"false",required:!0}),r.a.createElement("span",{className:Ft.a.AddNewItemInputBorder})),r.a.createElement("label",{className:Ft.a.AddNewItemLabel,htmlFor:"description"},r.a.createElement("input",{className:Ft.a.AddNewItemInput,type:"text",id:"description",name:"description",value:t.description||"",onChange:this.onChange,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",spellCheck:"false",required:!0}),r.a.createElement("span",{className:Ft.a.AddNewItemInputBorder})),r.a.createElement("div",{className:Ft.a.AddNewItemActions},r.a.createElement("button",{className:Ft.a.AddNewItemActionBtn,type:"submit"},"Submit"),r.a.createElement("button",{className:Ft.a.AddNewItemActionBtn,type:"button",onClick:this.onReset},"Reset")))}}]),t}(n.Component),Bt=function(e){var t=e.tests,a=e.location,n=e.editor,i=r.a.createElement("div",{className:Qt.a.EmptyList},"\u0422\u0435\u0441\u0442\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b."),s=0!==Object.keys(n).length;return t.length||s?r.a.createElement(K.TransitionGroup,{component:null},t.map(function(e){var t=e.info,i=e.quizes;return r.a.createElement(K.CSSTransition,{key:t.id,timeout:500,classNames:"move"},r.a.createElement(oe,Object.assign({},t,{isEditable:s,quizes:i,onRemoveBtnClick:n.onRemove,onFavoriteBtnClick:n.onAddToFavorites,onEditBtnClick:n.onEdit,location:a})))})):i};Bt.defaultProps={editor:{}};var Dt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).state={modal:{isRendered:!1,visible:!1,data:null}},a.removeTest=a.removeTest.bind(Object(T.a)(Object(T.a)(a))),a.editTest=a.editTest.bind(Object(T.a)(Object(T.a)(a))),a.showModal=a.showModal.bind(Object(T.a)(Object(T.a)(a))),a.hideModal=a.hideModal.bind(Object(T.a)(Object(T.a)(a))),a}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTests()}},{key:"showModal",value:function(e,t){var a=this.props.tests.filter(function(t){return t.id===e});this.setState({modal:{isRendered:!0,visible:!0,id:e,action:t,data:a.length?a[0].info:null}})}},{key:"hideModal",value:function(){this.setState(function(e){return{modal:{isRendered:e.modal.isRendered,visible:!1,id:null,action:e.modal.action,data:null}}})}},{key:"removeTest",value:function(){var e=this.state,t=this.props,a=e.modal.id;t.removeTest(a),this.hideModal()}},{key:"addTest",value:function(){var e=Object(p.a)(m.a.mark(function e(t,a){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,e.next=3,n.addNewTest(t,a);case 3:this.hideModal();case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"editTest",value:function(){var e=Object(p.a)(m.a.mark(function e(t,a){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,e.next=3,n.editTest(t,a);case 3:this.hideModal();case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=this.state.modal,n={onAddToFavorites:t.addTestToFavorites,onRemove:function(t){return e.showModal(t,"delete")},onEdit:function(t){return e.showModal(t,"edit")}};return r.a.createElement("div",{className:Qt.a.Tests},t.isLoading?r.a.createElement(ue,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:Qt.a.NewTestBtn,onClick:function(){return e.showModal(null,"add")},type:"button"}),Bt(Object(de.a)({},t,{editor:n}))),r.a.createElement(At.a,{visible:a.visible&&"delete"===a.action,width:300,height:65,closeOnEsc:!0,onClose:this.hideModal},r.a.createElement("div",{className:Qt.a.DeleteModal},r.a.createElement("button",{className:Qt.a.DeleteModalBtn,onClick:this.removeTest,type:"button"},"Delete"),r.a.createElement("button",{className:Qt.a.DeleteModalBtn,onClick:this.hideModal,type:"button"},"Cancel"))),a.isRendered&&"add"===a.action&&r.a.createElement(At.a,{visible:a.visible,width:300,height:350,closeOnEsc:!0,onClose:this.hideModal,onAnimationEnd:function(){return!a.visible&&e.setState({modal:{isRendered:!1}})}},r.a.createElement(Ut,{onAddTest:function(t,a){return e.addTest(t,a)}})),a.isRendered&&"edit"===a.action&&r.a.createElement(At.a,{visible:a.visible,width:300,height:350,closeOnEsc:!0,onClose:this.hideModal,onAnimationEnd:function(){return!a.visible&&e.setState({modal:{isRendered:!1}})}},r.a.createElement(Ut,{data:a.data,onAddTest:function(t,a){return e.editTest(t,a)}})))}}]),t}(n.Component),Wt=Object(l.b)(function(e){return{tests:e.catalog.tests,isLoading:e.catalog.isLoading}},function(e){return{fetchTests:function(){return e(be())},addTestToFavorites:function(t){return e(function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a,n){var r,i,s,o,c;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().catalog.tests,i=r.filter(function(t){return t.id===e})[0],t.prev=2,t.next=5,Ee.put("/tests/".concat(e,".json"),Object(de.a)({},i,{info:Object(de.a)({},i.info,{isFavorite:!i.info.isFavorite})}));case 5:s=t.sent,o=s.data,c=r.map(function(e){return e.id===o.id?Object(de.a)({},e,o):e}),a(ge(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a((t.t0,{type:"ADD_TEST_TO_FAVORITES_ERROR"}));case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e,a){return t.apply(this,arguments)}}()}(t))},addNewTest:function(t){return e((a=t,function(e){return new Promise(function(){var t=Object(p.a)(m.a.mark(function t(r){var i,s,o,c,l;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i={info:Object(de.a)({},a,{isFavorite:!1})},t.prev=1,!n){t.next=11;break}return s=ve.storage().ref("tests"),o=s.child(n.name).put(n),t.next=7,o;case 7:return c=t.sent,t.next=10,c.ref.getDownloadURL();case 10:i.info.image=t.sent;case 11:return t.next=13,Ee.post("tests.json",i);case 13:l=t.sent,i.id=l.data.name,i.info.id=l.data.name,e(Ie(i)),r(),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),e({type:"ADD_NEW_TEST_ERROR",error:t.t0});case 23:case"end":return t.stop()}},t,this,[[1,20]])}));return function(e){return t.apply(this,arguments)}}())}));var a,n},removeTest:function(t){return e(function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.delete("/tests/".concat(e,".json"));case 3:a(Ne(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"REMOVE_TEST_ERROR",error:t.t0});case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()}(t))},editTest:function(t){return e((a=t,function(){var e=Object(p.a)(m.a.mark(function e(t,r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(p.a)(m.a.mark(function e(i){var s,o,c,l,u,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r().catalog.tests,(o=s.filter(function(e){return e.info.id===a.id})[0]).info=Object(de.a)({},a),e.prev=3,!n){e.next=13;break}return c=ve.storage().ref("tests"),l=c.child(n.name).put(n),e.next=9,l;case 9:return u=e.sent,e.next=12,u.ref.getDownloadURL();case 12:o.info.image=e.sent;case 13:return e.next=15,Ee.put("tests/".concat(a.id,".json"),o);case 15:d=s.map(function(e){return e.id===a.id?Object(de.a)({},e,a):e}),t(Oe(d)),i(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),t({type:"EDIT_TEST_ERROR",error:e.t0});case 23:case"end":return e.stop()}},e,this,[[3,20]])}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()));var a,n}}})(Dt),Ht=a(82),Zt=a.n(Ht),Vt=a(58),Jt=a.n(Vt),Yt=a(59),Xt=a.n(Yt),Kt=function(e){var t=e.children,a=e.onClick,n=e.disabled,i=e.type,s=[Xt.a.Button,Xt.a[i]];return r.a.createElement("button",{className:s.join(" "),onClick:a,disabled:n,type:"button"},t)};Kt.defaultProps={onClick:function(){},disabled:!1};var Gt=Kt,$t=a(60),ea=a.n($t),ta=function(e){var t=e.valid,a=e.touched,n=e.shouldValidate;return!t&&n&&a},aa=function(e){var t=e.type,a=e.label,n=e.spellCheck,i=e.value,s=e.onChange,o=e.errorMessage,c=e.valid,l=e.touched,u=e.shouldValidate,d=[ea.a.Input],m="".concat(t,"-").concat(Math.random());return ta({valid:c,touched:l,shouldValidate:u})&&d.push(ea.a.invalid),r.a.createElement("div",{className:d.join(" ")},r.a.createElement("label",{htmlFor:m},a),r.a.createElement("input",{type:t,id:m,spellCheck:n,value:i,onChange:s}),ta({valid:c,touched:l,shouldValidate:u})?r.a.createElement("span",null,o):null)};aa.defaultProps={type:"text",label:"",spellCheck:!1,value:"",onChange:function(){},errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",valid:!0,touched:!1,shouldValidate:!1};var na=aa,ra=a(83),ia=a.n(ra),sa=function(e){var t=e.label,a=e.value,n=e.onChange,i=e.options,s="".concat(t,"-").concat(Math.random());return r.a.createElement("div",{className:ia.a.Select},r.a.createElement("label",{htmlFor:s},t),r.a.createElement("select",{id:s,value:a,onChange:n},i.map(function(e,t){var a=e.value+t;return r.a.createElement("option",{key:a,value:e.value},e.text)})))};sa.defaultProps={label:"",value:1,onChange:function(){},options:[]};var oa=sa,ca=a(84),la=a.n(ca),ua=function(e,t){return Object(de.a)({},e,{validation:t,valid:!t,touched:!1,shouldValidate:!!t,value:""})},da=function(e){return Object.keys(e).reduce(function(t,a){return e[a].valid&&t},!0)},ma=function(e){return ua({label:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 ".concat(e),errorMessage:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",id:e},{required:!0})},pa=function(){return{question:ua({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",errorMessage:"\u0412\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0}),option1:ma(1),option2:ma(2),option3:ma(3),option4:ma(4)}},fa=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).state={isFormValid:!1,rightAnswerId:1,formControls:pa()},a.onInputName=a.onInputName.bind(Object(T.a)(Object(T.a)(a))),a.selectChangeHandler=a.selectChangeHandler.bind(Object(T.a)(Object(T.a)(a))),a.addQuestionHandler=a.addQuestionHandler.bind(Object(T.a)(Object(T.a)(a))),a.createQuizHandler=a.createQuizHandler.bind(Object(T.a)(Object(T.a)(a))),a}return Object(E.a)(t,e),Object(_.a)(t,[{key:"onInputName",value:function(e){var t=e.target;this.props.setQuizName(t.value)}},{key:"addQuestionHandler",value:function(e){e.preventDefault();var t=this.state,a=this.props,n=t.formControls,r=n.question,i=n.option1,s=n.option2,o=n.option3,c=n.option4,l={question:r.value,id:a.quiz.length+1,rightAnswerId:t.rightAnswerId,answers:[{text:i.value,id:i.id},{text:s.value,id:s.id},{text:o.value,id:o.id},{text:c.value,id:c.id}]};a.createQuizQuestion(l),this.setState({isFormValid:!1,rightAnswerId:1,formControls:pa()})}},{key:"createQuizHandler",value:function(e){e.preventDefault();var t=this.props;this.setState({isFormValid:!1,rightAnswerId:1,formControls:pa()}),t.onAdd(t.name,t.quiz),t.reset()}},{key:"changeHandler",value:function(e,t){var a=this.state,n=Object(de.a)({},a.formControls),r=Object(de.a)({},n[t]);r.value=e,r.touched=!0,r.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!0;return t?(t.required&&(a=""!==e.trim()&&a),t.email&&(a=la.a.email(e)&&a),t.minLength&&(a=e.length>=t.minLength&&a),a):a}(r.value,r.validation),n[t]=r,this.setState({isFormValid:da(n),formControls:n})}},{key:"selectChangeHandler",value:function(e){this.setState({rightAnswerId:+e.target.value})}},{key:"renderControls",value:function(){var e=this,t=this.state;return Object.keys(t.formControls).map(function(a,n){var i=t.formControls[a],s=a+n;return r.a.createElement(r.a.Fragment,{key:s},r.a.createElement(na,Object.assign({},i,{onChange:function(t){var n=t.target;return e.changeHandler(n.value,a)}})),0===n?r.a.createElement("hr",null):null)})}},{key:"render",value:function(){var e=this.state,t=this.props,a=r.a.createElement(oa,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",value:e.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return r.a.createElement("div",{className:Jt.a.QuizCreator},r.a.createElement("div",null,r.a.createElement("h1",null,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"),r.a.createElement("input",{className:Jt.a.NameInput,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onInput:this.onInputName}),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.renderControls(),a,r.a.createElement(Gt,{type:"primary",onClick:this.addQuestionHandler,disabled:!e.isFormValid},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"),r.a.createElement(Gt,{type:"success",onClick:this.createQuizHandler,disabled:0===t.quiz.length},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"))))}}]),t}(n.Component),_a=Object(l.b)(function(e){return{quiz:e.create.quiz,name:e.create.name}},function(e){return{createQuizQuestion:function(t){return e(function(e){return{type:"CREATE_QUIZ_QUESTION",item:e}}(t))},setQuizName:function(t){return e({type:"SET_QUIZ_NAME",name:t})},reset:function(){return e({type:"RESET"})}}})(fa),va=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).state={modal:{isRendered:!1,visible:!1,data:null}},a.showModal=a.showModal.bind(Object(T.a)(Object(T.a)(a))),a.hideModal=a.hideModal.bind(Object(T.a)(Object(T.a)(a))),a.addQuiz=a.addQuiz.bind(Object(T.a)(Object(T.a)(a))),a}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.match.params.id,t.fetchQuizes(a);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onCopy",value:function(e){var t=this.props,a=t.match.params.id;t.copyQuiz(a,e)}},{key:"onRemove",value:function(e){var t=this.props,a=t.match.params.id;t.removeQuiz(a,e)}},{key:"showModal",value:function(e,t){var a=this.props.quizes.filter(function(t){return t.id===e});this.setState({modal:{isRendered:!0,visible:!0,id:e,action:t,data:a.length?a[0].info:null}})}},{key:"hideModal",value:function(){this.setState(function(e){return{modal:{isRendered:e.modal.isRendered,visible:!1,id:null,action:e.modal.action,data:null}}})}},{key:"addQuiz",value:function(){var e=Object(p.a)(m.a.mark(function e(t,a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,r=n.match.params.id,e.next=4,n.addNewQuiz(r,t,a);case 4:this.hideModal();case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=this.props,n=t.modal,i={isEditable:!0,onCopy:function(t){return e.onCopy(t)},onRemove:function(t){return e.onRemove(t)},onAdd:function(t){return e.showModal(t,"add")}},s=a.match.params.id;return r.a.createElement("div",{style:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"flex-start",flexWrap:"wrap"}},a.isLoading||!a.info?r.a.createElement(ue,null):r.a.createElement("div",{className:Zt.a.TestInfo},r.a.createElement(qe,{quizes:a.quizes,location:a.location,editor:i,id:s}),r.a.createElement(We,Object.assign({},a.info,{quizes:a.quizes,location:a.location}))),n.isRendered&&"add"===n.action&&r.a.createElement(At.a,{visible:n.visible,width:800,height:650,closeOnEsc:!0,onClose:this.hideModal,onAnimationEnd:function(){return!n.visible&&e.setState({modal:{isRendered:!1}})}},r.a.createElement(_a,{onAdd:this.addQuiz})))}}]),t}(n.Component),ha=Object(l.b)(function(e){return{quizes:e.quiz.quizes,info:e.quiz.info,isLoading:e.quiz.isLoading}},function(e){return{fetchQuizes:function(t){return e(Ye(t))},addNewQuiz:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(p.a)(m.a.mark(function n(r){var i,s;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"ADD_NEW_QUIZ_START"}),n.prev=1,i={type:"numeric",name:t,questionCount:a.length,isFinished:null,quiz:a},n.next=5,Ee.post("tests/".concat(e,"/quizes.json"),i);case 5:s=n.sent,i.id=s.data.name,r(nt(i)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r({type:"ADD_NEW_QUIZ_ERROR",error:n.t0});case 13:case"end":return n.stop()}},n,this,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},removeQuiz:function(t,a){return e(function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.delete("tests/".concat(e,"/quizes/").concat(t,".json"));case 3:n(at(t)),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"REMOVE_QUIZ_ERROR",error:a.t0});case 9:case"end":return a.stop()}},a,this,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))},copyQuiz:function(t,a){return e(function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n,r){var i,s,o;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=r().quiz.quizes,s=Object(de.a)({},i.find(function(e){return e.id===t}),{id:null,time:null}),a.prev=2,a.next=5,Ee.post("tests/".concat(e,"/quizes.json"),s);case 5:o=a.sent,s.id=o.data.name,n({type:"COPY_QUIZ_SUCCESS",quiz:s}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),n({type:"COPY_QUIZ_ERROR",error:a.t0});case 13:case"end":return a.stop()}},a,this,[[2,10]])}));return function(e,t){return a.apply(this,arguments)}}()}(t,a))}}})(va),Ea=[{to:"/constructor/tests/",label:"\u0422\u0435\u0441\u0442\u044b",exact:!1}],Ta=Object(U.a)(function(e){var t=e.location;return r.a.createElement("div",{className:Rt.a.Constructor},r.a.createElement(X,{links:Ea}),r.a.createElement("div",{className:Rt.a.ConstructorContentWrapper},r.a.createElement("div",{className:Rt.a.ConstructorContent},r.a.createElement(q.a,{location:t},t.state?r.a.createElement(M.a,{path:"/constructor/tests/:id/:id",component:jt}):r.a.createElement(F.a,{from:"/constructor/tests/:id/:id",exact:!0,to:"/constructor/tests/"}),r.a.createElement(M.a,{path:"/constructor/tests/:id/",component:ha}),r.a.createElement(M.a,{path:"/constructor/tests/",component:Wt})))))}),ba=function(e){var t=e.user;return r.a.createElement(H,null,t?r.a.createElement(q.a,null,r.a.createElement(F.a,{from:"/catalog",exact:!0,to:"/catalog/tests/"}),r.a.createElement(M.a,{path:"/catalog/",component:wt}),r.a.createElement(F.a,{from:"/constructor",exact:!0,to:"/constructor/tests/"}),r.a.createElement(M.a,{path:"/constructor",component:Ta}),r.a.createElement(F.a,{to:"/catalog"})):null)};ba.defaultProps={user:null};var ga=Object(U.a)(ba),Ia=a(49),Na=a.n(Ia),Oa=function(){return r.a.createElement("footer",{className:Na.a.Footer},r.a.createElement("div",{className:Na.a.FooterWrapper},r.a.createElement(b.a,{className:Na.a.FooterLogo,to:"/"},"\u0418\u043d\u0441\u0430\u0439\u0434\u0438\u044f, 2018"),r.a.createElement("div",null,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u043c:",r.a.createElement("a",{className:Na.a.FooterContactEmail,href:"mailto:info@insideland.ru"},"info@insideland.ru"))))},Ca=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(h.a)(t).call(this,e))).state={user:null},a.login=a.login.bind(Object(T.a)(Object(T.a)(a))),a.logout=a.logout.bind(Object(T.a)(Object(T.a)(a))),a}return Object(E.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;_e.onAuthStateChanged(function(t){t&&e.setState({user:t})})}},{key:"login",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.signInWithPopup(fe);case 2:t=e.sent,a=t.user,this.setState({user:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.signOut();case 2:this.setState({user:null});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"app"},r.a.createElement(L,{user:e.user,onLogIn:this.login,onLogOut:this.logout}),r.a.createElement(ga,{user:e.user}),r.a.createElement(Oa,null))}}]),t}(n.Component),ya=a(27),ja={quizes:[],results:{},error:null,isFinished:!1,activeQuestion:0,answerState:null,quiz:null,info:null,isLoading:!1,time:0},Sa={tests:[],isLoading:!1,isSaving:!1,modalData:null,imageFile:null},wa={quiz:[],name:""},ka=Object(o.c)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUIZES_START":return Object(de.a)({},e,{isLoading:!0});case"FETCH_QUIZES_SUCCESS":return Object(de.a)({},e,{quizes:t.data.quizes,info:t.data.info,isLoading:!1});case"FETCH_QUIZES_ERROR":return Object(de.a)({},e,{error:t.error,isLoading:!1});case"FETCH_QUIZ_START":return Object(de.a)({},e,{isLoading:!0});case"FETCH_QUIZ_SUCCESS":return Object(de.a)({},e,{quiz:t.quiz,isLoading:!1});case"FETCH_QUIZ_ERROR":return Object(de.a)({},e,{error:t.error,isLoading:!1});case"QUIZ_SET_STATE":return Object(de.a)({},e,{answerState:t.answerState,results:t.results});case"QUIZ_FINISH":return Object(de.a)({},e,{isFinished:!0});case"QUIZ_NEXT_QUESTION":return Object(de.a)({},e,{activeQuestion:t.number,answerState:null});case"QUIZ_RETRY":return Object(de.a)({},e,{results:{},isFinished:!1,activeQuestion:0,answerState:null});case"START_TIMER":return Object(de.a)({},e,{time:0});case"STOP_TIMER":return Object(de.a)({},e,{time:e.time});case"TICK_TIMER":return Object(de.a)({},e,{time:e.time+1});case"REMOVE_QUIZ_SUCCESS":return Object(de.a)({},e,{quizes:e.quizes.filter(function(e){return e.id!==t.id})});case"REMOVE_QUIZ_ERROR":return Object(de.a)({},e,{error:t.error});case"COPY_QUIZ_SUCCESS":return Object(de.a)({},e,{quizes:Object(ya.a)(e.quizes).concat([t.quiz])});case"COPY_QUIZ_ERROR":return Object(de.a)({},e,{error:t.error});case"ADD_NEW_QUIZ_START":return Object(de.a)({},e,{isLoading:!0});case"ADD_NEW_QUIZ_SUCCESS":return Object(de.a)({},e,{isLoading:!1,quizes:Object(ya.a)(e.quizes).concat([t.newQuiz])});case"ADD_NEW_QUIZ_ERROR":return Object(de.a)({},e,{isLoading:!1,error:t.error});default:return e}},catalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TESTS_START":return Object(de.a)({},e,{isLoading:!0});case"FETCH_TESTS_SUCCESS":return Object(de.a)({},e,{tests:t.tests,isLoading:!1});case"FETCH_TESTS_ERROR":return Object(de.a)({},e,{error:t.error,isLoading:!1});case"ADD_TEST_TO_FAVORITES_SUCCESS":return Object(de.a)({},e,{tests:t.tests});case"ADD_TEST_TO_FAVORITES_ERROR":return Object(de.a)({},e,{error:t.error});case"ADD_NEW_TEST_SUCCESS":return Object(de.a)({},e,{tests:[t.test].concat(Object(ya.a)(e.tests))});case"ADD_NEW_TEST_ERROR":return Object(de.a)({},e,{error:t.error});case"REMOVE_TEST_SUCCESS":return Object(de.a)({},e,{tests:e.tests.filter(function(e){return e.id!==t.id})});case"REMOVE_TEST_ERROR":return Object(de.a)({},e,{error:t.error});case"EDIT_TEST_SUCCESS":return Object(de.a)({},e,{tests:t.tests});case"EDIT_TEST_ERROR":return Object(de.a)({},e,{error:t.error});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_QUIZ_QUESTION":return Object(de.a)({},e,{quiz:Object(ya.a)(e.quiz).concat([t.item])});case"RESET":return Object(de.a)({},wa);case"SET_QUIZ_NAME":return Object(de.a)({},e,{name:t.name});default:return e}}}),Ra="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.d,za=Object(o.e)(ka,Ra(Object(o.a)(c.a))),Aa=r.a.createElement(l.a,{store:za},r.a.createElement(u.a,null,r.a.createElement(Ca,null)));s.a.render(Aa,document.querySelector(".root"))},19:function(e,t,a){e.exports={Test:"TestStats_Test__V9KB2",TestWrapper:"TestStats_TestWrapper__2UvpA",TestTopIcons:"TestStats_TestTopIcons__3-fyZ","fa-heart":"TestStats_fa-heart__3eQla",TestProfile:"TestStats_TestProfile__3zAvZ",TestProfileCheck:"TestStats_TestProfileCheck__Ao6Rw",TestThumbail:"TestStats_TestThumbail__2zMEQ",TestProfileName:"TestStats_TestProfileName__2y-a8",TestProfileTitle:"TestStats_TestProfileTitle__LteJh",TestProfileDescription:"TestStats_TestProfileDescription__FmsEk",TestProfileBtn:"TestStats_TestProfileBtn__7k9HP",TestSocialIcon:"TestStats_TestSocialIcon__OfAF7",TestPassedInfo:"TestStats_TestPassedInfo__2IVeH",TestPassedInfoAmount:"TestStats_TestPassedInfoAmount__3BPIF",TestPassedRange:"TestStats_TestPassedRange__3yCX2",TestPassedRangeCircleOne:"TestStats_TestPassedRangeCircleOne__lIGwd",TestPassedRangeCircleTwo:"TestStats_TestPassedRangeCircleTwo__1i8_J"}},21:function(e,t,a){e.exports={TestsTable:"TestTable_TestsTable__vapbA",NewItemBtnWrapper:"TestTable_NewItemBtnWrapper__BXeME",NewItemBtn:"TestTable_NewItemBtn__2pfvU",BtnWrapper:"TestTable_BtnWrapper__1cbT7",Btn:"TestTable_Btn__2ikLa",BtnRemove:"TestTable_BtnRemove__XYQI8",BtnCopy:"TestTable_BtnCopy__PkAIi",BtnEdit:"TestTable_BtnEdit__19oVZ"}},28:function(e,t,a){e.exports={Tests:"TestList_Tests__37XN9",NewTestBtn:"TestList_NewTestBtn__bg_c8",DeleteModal:"TestList_DeleteModal__1i7CS",DeleteModalBtn:"TestList_DeleteModalBtn__2ulT8",EmptyList:"TestList_EmptyList__2a12I"}},32:function(e,t,a){e.exports={MainNav:"MainNav_MainNav__17B6i",MainNavItem:"MainNav_MainNavItem__3AYPn",MainNavItemLink:"MainNav_MainNavItemLink__239Pb",MainNavItemLinkActive:"MainNav_MainNavItemLinkActive__22WQW"}},37:function(e,t,a){e.exports={Header:"Header_Header__3IpM-",HeaderInner:"Header_HeaderInner__1EnJC",HeaderLogo:"Header_HeaderLogo__3izMD"}},42:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__2lPyd",NavigationWrapper:"Navigation_NavigationWrapper__1_JhE"}},45:function(e,t,a){e.exports={UserNav:"UserNav_UserNav__Lw8yO",UserNavPicWrapper:"UserNav_UserNavPicWrapper__2zwzj",UserNavPic:"UserNav_UserNavPic__23QfW",UserNavBtn:"UserNav_UserNavBtn__3AWQi"}},46:function(e,t,a){e.exports={Navigation:"InnerNavigation_Navigation__2wBz7",NavigationItem:"InnerNavigation_NavigationItem__3mfxl",NavigationItemLink:"InnerNavigation_NavigationItemLink__3iUwK",NavigationItemLinkActive:"InnerNavigation_NavigationItemLinkActive__2xBIZ"}},48:function(e,t,a){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__3Pf_F",FinishedQuizList:"FinishedQuiz_FinishedQuizList__3a-xd",FinishedQuizItem:"FinishedQuiz_FinishedQuizItem__3eFFN",success:"FinishedQuiz_success__3-3BU",error:"FinishedQuiz_error__1J64b"}},49:function(e,t,a){e.exports={Footer:"Footer_Footer__vz9EF",FooterWrapper:"Footer_FooterWrapper__15hgN",FooterLogo:"Footer_FooterLogo__3QWsQ",FooterContactEmail:"Footer_FooterContactEmail__24XOl"}},50:function(e,t,a){e.exports={Catalog:"Catalog_Catalog__2q43R",CatalogContentWrapper:"Catalog_CatalogContentWrapper__3qa3B",CatalogContent:"Catalog_CatalogContent__1R2oz"}},51:function(e,t,a){e.exports={Constructor:"Constructor_Constructor__pNDhW",ConstructorContentWrapper:"Constructor_ConstructorContentWrapper__257Me",ConstructorContent:"Constructor_ConstructorContent__WIbDv"}},52:function(e,t,a){e.exports={Layout:"Layout_Layout__1Kq0I",LayoutMain:"Layout_LayoutMain__2eoLW"}},53:function(e,t,a){e.exports={Tests:"TestList_Tests__3Iq0-",NewTestBtn:"TestList_NewTestBtn__3zO1c",DeleteModal:"TestList_DeleteModal__1kq5Q",DeleteModalBtn:"TestList_DeleteModalBtn__22lUS",EmptyList:"TestList_EmptyList__2KPyp"}},54:function(e,t,a){e.exports={Loader:"Loader_Loader__1tlKE",center:"Loader_center__3vStx"}},55:function(e,t,a){e.exports={Quiz:"Quiz_Quiz__1nOFv",QuizWrapper:"Quiz_QuizWrapper__1xsPw"}},56:function(e,t,a){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__1zZyr",Question:"ActiveQuiz_Question__3qquW"}},57:function(e,t,a){e.exports={AnswerItem:"AnswerItem_AnswerItem__2Cj1e",success:"AnswerItem_success__Fo1OW",error:"AnswerItem_error__3EMlP"}},58:function(e,t,a){e.exports={QuizCreator:"QuizCreator_QuizCreator__13LUM",NameInput:"QuizCreator_NameInput__3GSqC"}},59:function(e,t,a){e.exports={Button:"Button_Button__3SEzo",error:"Button_error__3uBYb"}},60:function(e,t,a){e.exports={Input:"Input_Input__ZmxJ7",invalid:"Input_invalid__2qY0W"}},76:function(e,t,a){e.exports={TestInfo:"TestInfo_TestInfo__P-dd5"}},77:function(e,t,a){},78:function(e,t,a){e.exports={AnswersList:"AnswersList_AnswersList__1AFu7"}},80:function(e,t,a){e.exports={Timer:"Timer_Timer__1F-6d"}},82:function(e,t,a){e.exports={TestInfo:"EditableTestInfo_TestInfo__3Rrdu"}},83:function(e,t,a){e.exports={Select:"Select_Select__1wI5s"}},85:function(e,t,a){e.exports=a(175)},9:function(e,t,a){e.exports={AddNewItemPic:"TestItemModal_AddNewItemPic__26EyL",AddNewItemImgWrapper:"TestItemModal_AddNewItemImgWrapper__1haUQ",AddNewItemPicBtns:"TestItemModal_AddNewItemPicBtns__3grdp",AddNewItemBtnAddPic:"TestItemModal_AddNewItemBtnAddPic__iBhBj",AddNewItemBtnDeletePic:"TestItemModal_AddNewItemBtnDeletePic__1yJAF",AddNewItemLabel:"TestItemModal_AddNewItemLabel__1vXCo",AddNewItemInputFile:"TestItemModal_AddNewItemInputFile__12lZC",AddNewItemInput:"TestItemModal_AddNewItemInput__31nP_",AddNewItemInputBorder:"TestItemModal_AddNewItemInputBorder__2OtEJ",AddNewItemInputBorderActive:"TestItemModal_AddNewItemInputBorderActive__eY4Pc",AddNewItemActions:"TestItemModal_AddNewItemActions__60c3a",AddNewItemActionBtn:"TestItemModal_AddNewItemActionBtn__2MJ0f",AddNewItemPicSpinner:"TestItemModal_AddNewItemPicSpinner__kytsF",load:"TestItemModal_load__146K5",hue:"TestItemModal_hue__CMymg"}},96:function(e,t,a){}},[[85,2,1]]]);
//# sourceMappingURL=main.1b65041c.chunk.js.map