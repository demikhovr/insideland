(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(32),r=a.n(s),o=(a(66),a(68),a(124)),l=a(8),c=a(9),u=a(12),d=a(10),m=a(11),f=a(4),v=a(123),p=a(36),h=a.n(p),_=a(40),b=a.n(_),g=a(26),E=a.n(g),N=[{to:"/",label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",exact:!0},{to:"/catalog/",label:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",exact:!1},{to:"/constructor/",label:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",exact:!1}],I=function(e){var t=e.user;return i.a.createElement("ul",{className:E.a.MainNav},t&&N.map(function(e,t){var a=t+e;return i.a.createElement("li",{key:a,className:E.a.MainNavItem},i.a.createElement(v.a,{to:e.to,exact:e.exact,className:E.a.MainNavItemLink,activeClassName:E.a.MainNavItemLinkActive},e.label))}))};I.defaultProps={user:null};var T=I,w=a(29),C=a.n(w),k=function(e){var t=e.user,a=e.onLogIn,n=e.onLogOut;return i.a.createElement("div",{className:C.a.UserNav},t?i.a.createElement("div",{className:C.a.UserNavPicWrapper,title:t.displayName},i.a.createElement("img",{className:C.a.UserNavPic,src:t.photoURL,alt:t.displayName})):null,i.a.createElement("button",{className:C.a.UserNavBtn,type:"button",onClick:t?n:a},t?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438"))};k.defaultProps={user:null};var y=k,A=function(e){var t=e.user,a=e.onLogIn,n=e.onLogOut;return i.a.createElement("nav",{className:b.a.Navigation},i.a.createElement("div",{className:b.a.NavigationWrapper},i.a.createElement(T,{user:t}),i.a.createElement(y,{user:t,onLogIn:a,onLogOut:n})))};A.defaultProps={user:null};var O=A,j=function(e){var t=e.user,a=e.onLogIn,n=e.onLogOut;return i.a.createElement("header",{className:h.a.Header},i.a.createElement("div",{className:h.a.HeaderInner},i.a.createElement(v.a,{className:h.a.HeaderLogo,to:"/"},"\u0418\u043d\u0441\u0430\u0439\u0434\u0438\u044f"),i.a.createElement(O,{user:t,onLogIn:a,onLogOut:n})))};j.defaultProps={user:null};var L=j,F=a(126),P=a(27),x=a(125),M=a(127),S=a(41),R=a.n(S),B=function(e){var t=e.children;return i.a.createElement("div",{className:R.a.Layout},i.a.createElement("main",{className:R.a.LayoutMain},t))};B.defaultProps={children:null};var q=B,z=a(56),W=a.n(z),Q=function(){return i.a.createElement("div",{className:W.a.Main},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")},D=a(37),U=a.n(D),H=a(30),J=a.n(H),K=function(e){var t=e.links;return i.a.createElement("nav",{className:J.a.Navigation},t.map(function(e,t){var a=t+e;return i.a.createElement("li",{key:a,className:J.a.NavigationItem},i.a.createElement(v.a,{to:e.to,exact:e.exact,className:J.a.NavigationItemLink,activeClassName:J.a.NavigationItemLinkActive},e.label))}))},X=a(42),Z=a(16),G=a.n(Z),V=a(28),Y=a(17),$=a.n(Y),ee=(a(90),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).ironImageRef=i.a.createRef(),a.preloadImageRef=i.a.createRef(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=new window.Image;a.src=t.srcLoaded,a.addEventListener("load",function(){e.ironImageRef.current&&(e.ironImageRef.current.setAttribute("style","background-image: url('".concat(t.srcLoaded,"')")),e.ironImageRef.current.classList.add("iron-image-fade-in"),e.preloadImageRef.current.style.background="none")})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,a=new window.Image;a.src=t.srcLoaded,a.addEventListener("load",function(){e.ironImageRef.current&&e.ironImageRef.current.setAttribute("style","background-image: url('".concat(t.srcLoaded,"')"))})}},{key:"render",value:function(){return i.a.createElement("div",{className:"iron-image-container"},i.a.createElement("div",{className:"iron-image-loaded",ref:this.ironImageRef}),i.a.createElement("div",{className:"iron-image-preload",style:{backgroundImage:"url('img/default.png')"},ref:this.preloadImageRef}))}}]),t}(n.Component)),te=function(e){var t=e.id,a=e.image,n=e.name,s=e.title,r=e.description,o=e.isEditable,l=e.onRemoveBtnClick,c=e.onEditBtnClick,u=e.isFavorite,d=e.onFavoriteBtnClick,m=e.location;return i.a.createElement("div",{className:$.a.Test},i.a.createElement("div",{className:$.a.TestWrapper},i.a.createElement("div",{className:$.a.TestTopIcons},o&&i.a.createElement("button",{onClick:function(){return l(t)},type:"button"},i.a.createElement("i",{className:"far fa-times-circle"})),i.a.createElement("button",{style:{margin:"0 auto"},onClick:function(){return d(t)},type:"button"},i.a.createElement("i",{className:u?"fa fa-heart":"far fa-heart"})),o&&i.a.createElement("button",{onClick:function(){return c(t)},type:"button"},i.a.createElement("i",{className:"far fa-edit"}))),i.a.createElement("div",{className:$.a.TestProfile},i.a.createElement(ee,{srcPreload:a,srcLoaded:a||"img/default.png"}),i.a.createElement("div",{className:$.a.TestProfileCheck},i.a.createElement("i",{className:"fas fa-check"})),i.a.createElement("h3",{className:$.a.TestProfileName},n),i.a.createElement("p",{className:$.a.TestProfileTitle},s),i.a.createElement("p",{className:$.a.TestProfileDescription},r),i.a.createElement(V.a,{to:{pathname:"".concat(t,"/"),state:{from:m}},className:$.a.TestProfileBtn},"\u041a \u0442\u0435\u0441\u0442\u0430\u043c"))))};te.defaultProps={image:"",title:"",isEditable:!1},te.defaultProps={onRemoveBtnClick:function(){},onFavoriteBtnClick:function(){},onEditBtnClick:function(){}};var ae=te,ne=(a(92),function(e){var t=e.data,a=e.editor,n=e.location,s=i.a.createElement("div",{className:G.a.EmptyList},"\u0422\u0435\u0441\u0442\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b."),r=0!==Object.keys(a).length;return t.length||r?i.a.createElement(X.TransitionGroup,{component:null},t.map(function(e){var t=e.info;return i.a.createElement(X.CSSTransition,{key:t.id,timeout:500,classNames:"move"},i.a.createElement(ae,{id:t.id,isEditable:a.isEditable,isFavorite:t.isFavorite,image:t.image,name:t.name,title:t.title,description:t.description,onRemoveBtnClick:a.onRemove,onFavoriteBtnClick:a.onAddToFavorites,onEditBtnClick:a.onEdit,location:n}))})):s});ne.defaultProps={editor:{}};var ie=Object(M.a)(ne),se=a(58),re=a.n(se),oe=a(43),le=a.n(oe),ce={numeric:"\u0427\u0438\u0441\u043b\u043e\u0432\u044b\u0435",verbal:"\u0412\u0435\u0440\u0431\u0430\u043b\u044c\u043d\u044b\u0435",logical:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435"},ue={numeric:"#edebff",verbal:"#e4e4fe",logical:"#e4e4fe"},de=function(e){var t=e.children,a=e.to,n=e.location,s=a?i.a.createElement(v.a,{className:le.a.content,to:{pathname:a,state:{from:n}}},t):t;return i.a.createElement("td",null,s)};de.defaultProps={to:null,children:[]};var me=function(e){var t=e.tests,a=e.location,n=new Map,s=t.sort(function(e,t){var a=ce[e.type],n=ce[t.type];return a.localeCompare(n)});return i.a.createElement("table",{className:le.a.TestsTable,cellSpacing:"0"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"\u0422\u0438\u043f"),i.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),i.a.createElement("th",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"),i.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),i.a.createElement("th",null,"\u041f\u0440\u043e\u0439\u0434\u0435\u043d"))),i.a.createElement("tbody",null,s.map(function(e){var t="";return n.get(ce[e.type])||(t=ce[e.type],n.set(t,!0)),i.a.createElement("tr",{style:{backgroundColor:t&&ue[e.type]},key:e.id},i.a.createElement(de,{to:"".concat(e.id),location:a},"".concat(t)),i.a.createElement(de,{to:"".concat(e.id),location:a},"".concat(e.name)),i.a.createElement(de,{to:"".concat(e.id),location:a},"".concat(e.questionCount)),i.a.createElement(de,{to:"".concat(e.id),location:a},"".concat(e.time)),i.a.createElement(de,{to:"".concat(e.id),location:a},null!==e.isFinished?i.a.createElement("img",{width:"30",height:"30",src:e.isFinished?"img/icon-tick.svg":"img/icon-error.svg",alt:e.name}):null))})))},fe=a(1),ve=a.n(fe),pe=a(20),he=a.n(pe),_e=function(e){var t=e.image,a=e.name,n=e.title,s=e.description,r=e.isFavorite;return i.a.createElement("div",{className:he.a.Test},i.a.createElement("div",{className:he.a.TestWrapper},i.a.createElement("div",{className:he.a.TestTopIcons},i.a.createElement("i",{style:{margin:"0 auto"},className:r?"fa fa-heart":"far fa-heart"})),i.a.createElement("div",{className:he.a.TestProfile},i.a.createElement(ee,{srcPreload:t,srcLoaded:t||"img/default.png"}),i.a.createElement("div",{className:he.a.TestProfileCheck},i.a.createElement("i",{className:"fas fa-check"})),i.a.createElement("h3",{className:he.a.TestProfileName},a),i.a.createElement("p",{className:he.a.TestProfileTitle},n),i.a.createElement("p",{className:he.a.TestProfileDescription},s))))};_e.defaultProps={image:ve.a.string,title:ve.a.string};var be=_e,ge=function(e){var t=e.data,a=e.location;return i.a.createElement("div",{className:re.a.TestInfo},i.a.createElement(me,{tests:t.quizes,location:a}),i.a.createElement(be,{image:t.image,name:t.name,title:t.title,description:t.description,isFavorite:t.isFavorite,location:a}))},Ee=a(6),Ne=a.n(Ee),Ie=a(44),Te=a.n(Ie),we=function(){return i.a.createElement("div",{className:Te.a.center},i.a.createElement("div",{className:Te.a.Loader},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))},Ce=function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={data:[],isLoading:!0},t}return Object(m.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.testsRef=Ne.a.database().ref("tests"),this.testsRef.on("value",function(t){var a=t.val(),n=Object.keys(a||{}).reverse().map(function(e){var t=a[e];return t.info.id=e,t});e.setState({data:n,isLoading:!1})})}},{key:"componentWillUnmount",value:function(){this.testsRef.off()}},{key:"render",value:function(){var t=this.state,a=this.props;return i.a.createElement("div",{className:G.a.Tests},t.isLoading?i.a.createElement(we,null):i.a.createElement(e,{data:t.data,editor:a.editor}))}}]),a}(n.Component)},ke=[{id:1,type:"numeric",name:"\u0422\u0435\u0441\u0442 1",questionCount:"15",time:"22:00",isFinished:null},{id:2,type:"numeric",name:"\u0422\u0435\u0441\u0442 1",questionCount:"15",time:"22:00",isFinished:null},{id:3,type:"numeric",name:"\u0422\u0435\u0441\u0442 1",questionCount:"15",time:"22:00",isFinished:null},{id:4,type:"verbal",name:"\u0422\u0435\u0441\u0442 2",questionCount:"5",time:"15:00",isFinished:null},{id:5,type:"verbal",name:"\u0422\u0435\u0441\u0442 2",questionCount:"5",time:"15:00",isFinished:null},{id:6,type:"logical",name:"\u0422\u0435\u0441\u0442 1",questionCount:"24",time:"30:00",isFinished:null},{id:7,type:"logical",name:"\u0422\u0435\u0441\u0442 1",questionCount:"24",time:"30:00",isFinished:null},{id:8,type:"logical",name:"\u0422\u0435\u0441\u0442 1",questionCount:"24",time:"30:00",isFinished:null}],ye=function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={test:{},isLoading:!0},t}return Object(m.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.itemsRef=Ne.a.database().ref("tests/".concat(t)),this.itemsRef.on("value",function(a){var n=a.val();n&&(n.id=t,n.quizes=ke,e.setState({test:n,isLoading:!1}))})}},{key:"componentWillUnmount",value:function(){this.itemsRef.off()}},{key:"render",value:function(){var t=this.state,a=this.props;return t.isLoading?i.a.createElement(we,null):i.a.createElement(e,{data:t.test,location:a.location})}}]),a}(n.Component)},Ae=a(18),Oe=a(45),je=a.n(Oe),Le=a(46),Fe=a.n(Le),Pe=a(59),xe=a.n(Pe),Me=a(47),Se=a.n(Me),Re=function(e){var t=e.answer,a=e.onAnswerClick,n=e.state,s=[Se.a.AnswerItem];return n&&s.push(Se.a[n]),i.a.createElement("li",{className:s.join(" "),onClick:function(){return a(t.id)}},t.text)};Re.defaultProps={state:null};var Be=Re,qe=function(e){var t=e.answers,a=e.onAnswerClick,n=e.state;return i.a.createElement("ul",{className:xe.a.AnswersList},t.map(function(e,t){var s=e+t;return i.a.createElement(Be,{key:s,answer:e,onAnswerClick:a,state:n?n[e.id]:null})}))};qe.defaultProps={state:null};var ze=qe,We=function(e){var t=e.answers,a=e.question,n=e.onAnswerClick,s=e.answerNumber,r=e.quizLength,o=e.state;return i.a.createElement("div",{className:Fe.a.ActiveQuiz},i.a.createElement("p",{className:Fe.a.Question},i.a.createElement("span",null,i.a.createElement("strong",null,s,"."),"\xa0",a),i.a.createElement("small",null,s,"\xa0\u0438\u0437\xa0",r)),i.a.createElement(ze,{state:o,answers:t,onAnswerClick:n}))};We.defaultProps={state:null};var Qe=We,De=a(48),Ue=a.n(De),He=Object(M.a)(function(e){var t=e.results,a=e.quiz,n=e.onRetry,s=e.location,r=Object.keys(t).reduce(function(e,a){var n=e;return"success"===t[a]&&(n+=1),n},0);return i.a.createElement("div",{className:Ue.a.FinishedQuiz},i.a.createElement("ul",null,a.map(function(e,a){var n=e+a,s=["fa","error"===t[e.id]?"fa-times":"fa-check",Ue.a[t[e.id]]];return i.a.createElement("li",{key:n},i.a.createElement("strong",null,a+1),". \xa0",e.question,i.a.createElement("i",{className:s.join(" ")}))})),i.a.createElement("p",null,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\xa0",r,"\xa0\u0438\u0437\xa0",a.length),i.a.createElement("div",null,i.a.createElement("button",{className:"btn",onClick:n,type:"button"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"),i.a.createElement(V.a,{to:s.state.from},i.a.createElement("button",{className:"btn",type:"button"},"\u041d\u0430\u0437\u0430\u0434 \u043a \u0442\u0435\u0441\u0442\u0430\u043c"))))}),Je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:[{id:1,question:"2 + 2 ?",answers:[{text:"125",id:1},{text:"2",id:2},{text:"3",id:3},{text:"4",id:4}],rightAnswerId:4},{id:2,question:"\u0412\u043e\u043f\u0440\u043e\u0441?",answers:[{text:"\u041e\u0442\u0432\u0435\u0442?",id:1},{text:"\u0414\u0430",id:2},{text:"\u041d\u0435\u0442",id:3},{text:"\u041b\u043e\u043f\u0430\u0442\u0430",id:4}],rightAnswerId:2},{id:3,question:"\u041f\u0440\u0438\u0432\u0435\u0442?",answers:[{text:"\u0414\u0430",id:1},{text:"\u041d\u0435\u0442",id:2},{text:"\u041f\u0440\u0438\u0432\u0435\u0442",id:3},{text:"\u0427\u0442\u043e?",id:4}],rightAnswerId:3},{id:4,question:"\u041a\u0430\u043a\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430 \u043d\u0435\u0431\u043e?",answers:[{text:"\u0427\u0435\u0440\u043d\u044b\u0439",id:1},{text:"\u0421\u0438\u043d\u0438\u0439",id:2},{text:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",id:3},{text:"\u0417\u0435\u043b\u0435\u043d\u044b\u0439",id:4}],rightAnswerId:2},{id:5,question:"\u0412 \u043a\u0430\u043a\u043e\u043c \u0433\u043e\u0434\u0443 \u043e\u0441\u043d\u043e\u0432\u0430\u043b\u0438 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433?",answers:[{text:"1700",id:1},{text:"1702",id:2},{text:"1703",id:3},{text:"1803",id:4}],rightAnswerId:3}]},a.onAnswerClickHandler=a.onAnswerClickHandler.bind(Object(f.a)(Object(f.a)(a))),a.onRetryHandler=a.onRetryHandler.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onAnswerClickHandler",value:function(e){var t=this,a=this.state,n=a.results,i=a.quiz[a.activeQuestion];if(a.answerState){var s=Object.keys(a.answerState)[0];if("success"===a.answerState[s])return}if(i.rightAnswerId===e){n[i.id]||(n[i.id]="success"),this.setState({answerState:Object(Ae.a)({},e,"success"),results:n});var r=window.setTimeout(function(){t.isQuizFinished()?t.setState({isFinished:!0}):t.setState(function(e){return{activeQuestion:e.activeQuestion+1,answerState:null}}),window.clearTimeout(r)},1e3)}else n[i.id]="error",this.setState({answerState:Object(Ae.a)({},e,"error"),results:n})}},{key:"onRetryHandler",value:function(){this.setState({results:{},isFinished:!1,activeQuestion:0,answerState:null})}},{key:"isQuizFinished",value:function(){var e=this.state;return e.activeQuestion+1===e.quiz.length}},{key:"render",value:function(){var e=this.state,t=this.props;return i.a.createElement("div",{className:je.a.Quiz},i.a.createElement("div",{className:je.a.QuizWrapper},i.a.createElement("h1",null,"\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"),e.isFinished?i.a.createElement(He,{results:e.results,quiz:e.quiz,onRetry:this.onRetryHandler,location:t.location}):i.a.createElement(Qe,{question:e.quiz[e.activeQuestion].question,answers:e.quiz[e.activeQuestion].answers,onAnswerClick:this.onAnswerClickHandler,answerNumber:e.activeQuestion+1,quizLength:e.quiz.length,state:e.answerState})))}}]),t}(n.Component),Ke=[{to:"/catalog/tests/",label:"\u0422\u0435\u0441\u0442\u044b",exact:!1}],Xe=Ce(ie),Ze=ye(ge),Ge=Object(M.a)(function(e){var t=e.location;return i.a.createElement("div",{className:U.a.CatalogContentWrapper},i.a.createElement("div",{className:U.a.CatalogContent},i.a.createElement(F.a,{location:t},i.a.createElement(P.a,{path:"/catalog/tests/:id/:id",component:Je}),i.a.createElement(P.a,{path:"/catalog/tests/:id/",component:Ze}),i.a.createElement(P.a,{path:"/catalog/tests/",component:Xe}))))}),Ve=function(){return i.a.createElement("div",{className:U.a.Catalog},i.a.createElement(K,{links:Ke}),i.a.createElement(Ge,null))},Ye=a(38),$e=a.n(Ye),et=a(22),tt=a.n(et),at=a(19),nt=a(25),it=a(39),st=a.n(it),rt=(a(117),a(60)),ot=a.n(rt),lt=a(5),ct=a.n(lt),ut={image:"",name:"",title:"",description:""},dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={isSaving:!1,data:{},imageFile:null},a.nameRef=i.a.createRef(),a.onChange=a.onChange.bind(Object(f.a)(Object(f.a)(a))),a.onSubmit=a.onSubmit.bind(Object(f.a)(Object(f.a)(a))),a.onReset=a.onReset.bind(Object(f.a)(Object(f.a)(a))),a.handleFiles=a.handleFiles.bind(Object(f.a)(Object(f.a)(a))),a.removeImage=a.removeImage.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.nameRef.current.focus()},400);var t=this.props;if(t.data){var a=Object(at.a)({},t.data);this.setState({data:a})}}},{key:"onChange",value:function(e){var t=e.target;this.setState(function(e){return{data:Object(at.a)({},e.data,Object(Ae.a)({},t.name,t.value))}})}},{key:"onSubmit",value:function(){var e=Object(nt.a)(tt.a.mark(function e(t){var a,n;return tt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state,n=this.props,this.setState({isSaving:!0}),e.prev=3,e.next=6,n.onAddItem(a.data,a.imageFile);case 6:this.reset(),this.setState({isSaving:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onReset",value:function(){this.reset()}},{key:"removeImage",value:function(){this.setState(function(e){return{data:Object(at.a)({},e.data,{image:""}),imageFile:null}})}},{key:"reset",value:function(){this.setState({data:ut,imageFile:null})}},{key:"handleFiles",value:function(e){this.setState(function(t){return{data:Object(at.a)({},t.data,{image:e.base64}),imageFile:e.fileList[0]}})}},{key:"render",value:function(){var e=this.state,t=e.data,a=t.image||"img/default.png",n=t.image||"Default image";return i.a.createElement("form",{className:ct.a.AddNewItemForm,onSubmit:this.onSubmit,autoComplete:"off"},e.isSaving&&i.a.createElement("div",{className:ct.a.AddNewItemPicSpinner}),i.a.createElement("div",{className:ct.a.AddNewItemPic},i.a.createElement("div",{className:ct.a.AddNewItemImgWrapper},i.a.createElement("img",{src:a,alt:n})),i.a.createElement("div",{className:ct.a.AddNewItemPicBtns},i.a.createElement(ot.a,{handleFiles:this.handleFiles,base64:!0,multipleFiles:!1},i.a.createElement("button",{className:ct.a.AddNewItemBtnAddPic,type:"button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")),t.image&&"img/default.png"!==t.image.base64&&i.a.createElement("button",{className:ct.a.AddNewItemBtnDeletePic,type:"button",onClick:this.removeImage},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),i.a.createElement("label",{className:ct.a.AddNewItemLabel,htmlFor:"name"},i.a.createElement("input",{ref:this.nameRef,className:ct.a.AddNewItemInput,type:"text",id:"name",name:"name",value:t.name||"",onChange:this.onChange,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",spellCheck:"false",required:!0}),i.a.createElement("span",{className:ct.a.AddNewItemInputBorder})),i.a.createElement("label",{className:ct.a.AddNewItemLabel,htmlFor:"title"},i.a.createElement("input",{className:ct.a.AddNewItemInput,type:"text",id:"title",name:"title",value:t.title||"",onChange:this.onChange,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",spellCheck:"false",required:!0}),i.a.createElement("span",{className:ct.a.AddNewItemInputBorder})),i.a.createElement("label",{className:ct.a.AddNewItemLabel,htmlFor:"description"},i.a.createElement("input",{className:ct.a.AddNewItemInput,type:"text",id:"description",name:"description",value:t.description||"",onChange:this.onChange,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",spellCheck:"false",required:!0}),i.a.createElement("span",{className:ct.a.AddNewItemInputBorder})),i.a.createElement("div",{className:ct.a.AddNewItemActions},i.a.createElement("button",{className:ct.a.AddNewItemActionBtn,type:"submit"},"Submit"),i.a.createElement("button",{className:ct.a.AddNewItemActionBtn,type:"button",onClick:this.onReset},"Reset")))}}]),t}(n.Component),mt=[{id:1,type:"numeric",name:"\u0422\u0435\u0441\u0442 1",questionCount:"15",time:"22:00",isFinished:null},{id:2,type:"numeric",name:"\u0422\u0435\u0441\u0442 1",questionCount:"15",time:"22:00",isFinished:null},{id:3,type:"numeric",name:"\u0422\u0435\u0441\u0442 1",questionCount:"15",time:"22:00",isFinished:null},{id:4,type:"verbal",name:"\u0422\u0435\u0441\u0442 2",questionCount:"5",time:"15:00",isFinished:null},{id:5,type:"verbal",name:"\u0422\u0435\u0441\u0442 2",questionCount:"5",time:"15:00",isFinished:null},{id:6,type:"logical",name:"\u0422\u0435\u0441\u0442 1",questionCount:"24",time:"30:00",isFinished:null},{id:7,type:"logical",name:"\u0422\u0435\u0441\u0442 1",questionCount:"24",time:"30:00",isFinished:null},{id:8,type:"logical",name:"\u0422\u0435\u0441\u0442 1",questionCount:"24",time:"30:00",isFinished:null}],ft=function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={test:{},isLoading:!0},t}return Object(m.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.itemsRef=Ne.a.database().ref("tests/".concat(t)),this.itemsRef.on("value",function(a){var n=a.val();n&&(n.id=t,n.quizes=mt,e.setState({test:n,isLoading:!1}))})}},{key:"componentWillUnmount",value:function(){this.itemsRef.off()}},{key:"render",value:function(){var t=this,a=this.state,n=this.props,s={isEditable:!0,onRemove:function(e){return t.showModal(e,"delete")},onAddToFavorites:this.addToFavorite,onEdit:function(e){return t.showModal(e,"edit")}};return a.isLoading?i.a.createElement(we,null):i.a.createElement(e,{data:a.test,location:n.location,editor:s})}}]),a}(n.Component)},vt=[{to:"/constructor/tests/",label:"\u0422\u0435\u0441\u0442\u044b",exact:!1}],pt=function(e){return function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={isLoading:!0,data:[],modal:{isRendered:!1,visible:!1,data:null}},t.removeCard=t.removeCard.bind(Object(f.a)(Object(f.a)(t))),t.handleChange=t.handleChange.bind(Object(f.a)(Object(f.a)(t))),t.addToFavorite=t.addToFavorite.bind(Object(f.a)(Object(f.a)(t))),t.editItem=t.editItem.bind(Object(f.a)(Object(f.a)(t))),t.showModal=t.showModal.bind(Object(f.a)(Object(f.a)(t))),t.hideModal=t.hideModal.bind(Object(f.a)(Object(f.a)(t))),t}return Object(m.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.testsRef=Ne.a.database().ref("tests"),this.testsRef.on("value",function(t){var a=t.val(),n=Object.keys(a||{}).reverse().map(function(e){var t=a[e];return t.info.id=e,t});e.setState({data:n,isLoading:!1})})}},{key:"componentWillUnmount",value:function(){this.testsRef.off()}},{key:"addItem",value:function(e,t){var a=this;return new Promise(function(){var n=Object(nt.a)(tt.a.mark(function n(i,s){var r,o,l,c,u;return tt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Ne.a.database().ref("tests"),o=Ne.a.storage().ref("tests"),l={info:Object(at.a)({},e,{isFavorite:!1})},!t){n.next=22;break}return c=o.child(t.name).put(t),n.prev=5,n.next=8,c;case 8:return u=n.sent,n.next=11,u.ref.getDownloadURL();case 11:l.info.image=n.sent,r.push(l),a.hideModal(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),a.hideModal(),s(n.t0);case 20:n.next=25;break;case 22:r.push(l),a.hideModal(),i();case 25:case"end":return n.stop()}},n,this,[[5,16]])}));return function(e,t){return n.apply(this,arguments)}}())}},{key:"showModal",value:function(e,t){var a=this.state.data.filter(function(t){return t.info.id===e});this.setState({modal:{isRendered:!0,visible:!0,id:e,action:t,data:a.length?a[0].info:null}})}},{key:"hideModal",value:function(){this.setState(function(e){return{modal:{isRendered:e.modal.isRendered,visible:!1,id:null,action:e.modal.action}}})}},{key:"removeCard",value:function(e){e.preventDefault();var t=this.state.modal;Ne.a.database().ref("/tests/".concat(t.id)).remove(),this.hideModal()}},{key:"handleChange",value:function(e){var t=this.state.newItem,a={info:Object(Ae.a)({},e.target.name,e.target.value),quizes:{}};this.setState({newItem:Object(at.a)({},t,a)}),this.hideModal()}},{key:"editItem",value:function(e,t){var a=this;return new Promise(function(){var n=Object(nt.a)(tt.a.mark(function n(i,s){var r,o,l,c,u,d;return tt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a.state,o=Ne.a.database().ref("/tests/".concat(r.modal.id)),l=Ne.a.storage().ref("tests"),(c=r.data.filter(function(e){return e.info.id===r.modal.id})[0]).info=Object(at.a)({},e),!t){n.next=26;break}return u=l.child(t.name).put(t),n.prev=7,n.next=10,u;case 10:return d=n.sent,n.next=13,d.ref.getDownloadURL();case 13:c.info.image=n.sent,o.update(c),a.hideModal(),i(),n.next=24;break;case 19:n.prev=19,n.t0=n.catch(7),a.hideModal(),s(n.t0),console.log(n.t0);case 24:n.next=29;break;case 26:o.update(c),a.hideModal(),i();case 29:case"end":return n.stop()}},n,this,[[7,19]])}));return function(e,t){return n.apply(this,arguments)}}())}},{key:"addToFavorite",value:function(e){var t=this.state.data.filter(function(t){return t.info.id===e})[0];Ne.a.database().ref("/tests/".concat(e,"/info")).update({isFavorite:!t.info.isFavorite})}},{key:"render",value:function(){var t=this,a=this.state,n=a.isLoading,s=a.data,r=a.modal,o={isEditable:!0,onAddToFavorites:this.addToFavorite,onRemove:function(e){return t.showModal(e,"delete")},onEdit:function(e){return t.showModal(e,"edit")}};return i.a.createElement("div",{className:G.a.Tests},n?i.a.createElement(we,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:G.a.NewTestBtn,onClick:function(){return t.showModal(null,"add")},type:"button"}),i.a.createElement(e,{data:s,editor:o})),i.a.createElement(st.a,{visible:r.visible&&"delete"===r.action,width:300,height:65,closeOnEsc:!0,onClose:this.hideModal},i.a.createElement("div",{className:G.a.DeleteModal},i.a.createElement("button",{className:G.a.DeleteModalBtn,onClick:this.removeCard,type:"button"},"Delete"),i.a.createElement("button",{className:G.a.DeleteModalBtn,onClick:this.hideModal,type:"button"},"Cancel"))),r.isRendered&&"add"===r.action&&i.a.createElement(st.a,{visible:r.visible,width:300,height:350,closeOnEsc:!0,onClose:this.hideModal,onAnimationEnd:function(){return!r.visible&&t.setState({modal:{isRendered:!1}})}},i.a.createElement(dt,{onAddItem:function(e,a){return t.addItem(e,a)}})),r.isRendered&&"edit"===r.action&&i.a.createElement(st.a,{visible:r.visible,width:300,height:350,closeOnEsc:!0,onClose:this.hideModal,onAnimationEnd:function(){return!r.visible&&t.setState({modal:{isRendered:!1}})}},i.a.createElement(dt,{data:r.data,onAddItem:function(e,a){return t.editItem(e,a)}})))}}]),a}(n.Component)}(ie),ht=ft(ge),_t=Object(M.a)(function(e){var t=e.location;return i.a.createElement("div",{className:$e.a.ConstructorContentWrapper},i.a.createElement("div",{className:$e.a.ConstructorContent},i.a.createElement(F.a,{location:t},i.a.createElement(P.a,{path:"/constructor/tests/:id/:id",component:Je}),i.a.createElement(P.a,{path:"/constructor/tests/:id/",component:ht}),i.a.createElement(P.a,{path:"/constructor/tests/",component:pt}))))}),bt=function(){return i.a.createElement("div",{className:$e.a.Constructor},i.a.createElement(K,{links:vt}),i.a.createElement(_t,null))},gt=function(e){var t=e.user;return i.a.createElement(q,null,t?i.a.createElement(F.a,null,i.a.createElement(P.a,{path:"/",exact:!0,component:Q}),i.a.createElement(x.a,{from:"/catalog",exact:!0,to:"/catalog/tests/"}),i.a.createElement(P.a,{path:"/catalog/",component:Ve}),i.a.createElement(x.a,{from:"/constructor",exact:!0,to:"/constructor/tests/"}),i.a.createElement(P.a,{path:"/constructor",component:bt})):null)};gt.defaultProps={user:null};var Et=Object(M.a)(gt),Nt=a(31),It=a.n(Nt),Tt=function(){return i.a.createElement("footer",{className:It.a.Footer},i.a.createElement("div",{className:It.a.FooterWrapper},i.a.createElement(v.a,{className:It.a.FooterLogo,to:"/"},"\u0418\u043d\u0441\u0430\u0439\u0434\u0438\u044f, 2018"),i.a.createElement("div",null,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u043c:",i.a.createElement("a",{className:It.a.FooterContactEmail,href:"mailto:info@insideland.ru"},"info@insideland.ru"))))};Ne.a.initializeApp({apiKey:"AIzaSyC5aoy2IrFSdXyYJOI5z9hTQVjQArOwGaI",authDomain:"insideland-a1eae.firebaseapp.com",databaseURL:"https://insideland-a1eae.firebaseio.com",projectId:"insideland-a1eae",storageBucket:"insideland-a1eae.appspot.com",messagingSenderId:"110475419154"});var wt=new Ne.a.auth.GoogleAuthProvider,Ct=Ne.a.auth(),kt=(Ne.a,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={user:null},a.login=a.login.bind(Object(f.a)(Object(f.a)(a))),a.logout=a.logout.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Ct.onAuthStateChanged(function(t){t&&e.setState({user:t})})}},{key:"login",value:function(){var e=this;Ct.signInWithPopup(wt).then(function(t){var a=t.user;e.setState({user:a})})}},{key:"logout",value:function(){var e=this;Ct.signOut().then(function(){e.setState({user:null})})}},{key:"render",value:function(){var e=this.state;return i.a.createElement("div",{className:"app"},i.a.createElement(L,{user:e.user,onLogIn:this.login,onLogOut:this.logout}),i.a.createElement(Et,{user:e.user}),i.a.createElement(Tt,null))}}]),t}(n.Component)),yt=i.a.createElement(o.a,null,i.a.createElement(kt,null));r.a.render(yt,document.querySelector(".root"))},16:function(e,t,a){e.exports={Tests:"TestList_Tests__3cKrt",NewTestBtn:"TestList_NewTestBtn__2ilKN",DeleteModal:"TestList_DeleteModal__3agKu",DeleteModalBtn:"TestList_DeleteModalBtn__x4ul7",EmptyList:"TestList_EmptyList__2M67C"}},17:function(e,t,a){e.exports={Test:"TestItem_Test__3Ab77",TestWrapper:"TestItem_TestWrapper__3tA8_",TestTopIcons:"TestItem_TestTopIcons__3jI9O","fa-heart":"TestItem_fa-heart__3JYhv",TestProfile:"TestItem_TestProfile__HNfPO",TestProfileCheck:"TestItem_TestProfileCheck__2TPZ3",TestThumbail:"TestItem_TestThumbail__2mbWd",TestProfileName:"TestItem_TestProfileName__2Midb",TestProfileTitle:"TestItem_TestProfileTitle__1PoT7",TestProfileDescription:"TestItem_TestProfileDescription__-HA6e",TestProfileBtn:"TestItem_TestProfileBtn__36eJX",TestSocialIcon:"TestItem_TestSocialIcon__3-5KV"}},20:function(e,t,a){e.exports={Test:"TestStats_Test__2H4Ia",TestWrapper:"TestStats_TestWrapper__1uFyX",TestTopIcons:"TestStats_TestTopIcons__1wpO1","fa-heart":"TestStats_fa-heart__1EtTC",TestProfile:"TestStats_TestProfile__2Z9dX",TestProfileCheck:"TestStats_TestProfileCheck__3Apue",TestThumbail:"TestStats_TestThumbail__2j-T7",TestProfileName:"TestStats_TestProfileName__1fnt7",TestProfileTitle:"TestStats_TestProfileTitle__1XLhU",TestProfileDescription:"TestStats_TestProfileDescription__1l0ay",TestProfileBtn:"TestStats_TestProfileBtn__2N-aP",TestSocialIcon:"TestStats_TestSocialIcon__3xcOV"}},26:function(e,t,a){e.exports={MainNav:"MainNav_MainNav__17B6i",MainNavItem:"MainNav_MainNavItem__3AYPn",MainNavItemLink:"MainNav_MainNavItemLink__239Pb",MainNavItemLinkActive:"MainNav_MainNavItemLinkActive__22WQW"}},29:function(e,t,a){e.exports={UserNav:"UserNav_UserNav__Lw8yO",UserNavPicWrapper:"UserNav_UserNavPicWrapper__2zwzj",UserNavPic:"UserNav_UserNavPic__23QfW",UserNavBtn:"UserNav_UserNavBtn__3AWQi"}},30:function(e,t,a){e.exports={Navigation:"InnerNavigation_Navigation__2wBz7",NavigationItem:"InnerNavigation_NavigationItem__3mfxl",NavigationItemLink:"InnerNavigation_NavigationItemLink__3iUwK",NavigationItemLinkActive:"InnerNavigation_NavigationItemLinkActive__2xBIZ"}},31:function(e,t,a){e.exports={Footer:"Footer_Footer__vz9EF",FooterWrapper:"Footer_FooterWrapper__15hgN",FooterLogo:"Footer_FooterLogo__3QWsQ",FooterContactEmail:"Footer_FooterContactEmail__24XOl"}},36:function(e,t,a){e.exports={Header:"Header_Header__3IpM-",HeaderInner:"Header_HeaderInner__1EnJC",HeaderLogo:"Header_HeaderLogo__3izMD"}},37:function(e,t,a){e.exports={Catalog:"Catalog_Catalog__3Dmso",CatalogContentWrapper:"Catalog_CatalogContentWrapper__2usHl",CatalogContent:"Catalog_CatalogContent__29SZs"}},38:function(e,t,a){e.exports={Constructor:"Constructor_Constructor__3XOJ8",ConstructorContentWrapper:"Constructor_ConstructorContentWrapper__1gdBC",ConstructorContent:"Constructor_ConstructorContent__3OxhG"}},40:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__2lPyd",NavigationWrapper:"Navigation_NavigationWrapper__1_JhE"}},41:function(e,t,a){e.exports={Layout:"Layout_Layout__1Kq0I",LayoutMain:"Layout_LayoutMain__2eoLW"}},43:function(e,t,a){e.exports={TestsTable:"TestTable_TestsTable__1z-K3"}},44:function(e,t,a){e.exports={Loader:"Loader_Loader__1tlKE",center:"Loader_center__3vStx"}},45:function(e,t,a){e.exports={Quiz:"Quiz_Quiz__1nOFv",QuizWrapper:"Quiz_QuizWrapper__1xsPw"}},46:function(e,t,a){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__1zZyr",Question:"ActiveQuiz_Question__3qquW"}},47:function(e,t,a){e.exports={AnswerItem:"AnswerItem_AnswerItem__2Cj1e",success:"AnswerItem_success__Fo1OW",error:"AnswerItem_error__3EMlP"}},48:function(e,t,a){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__3Pf_F",success:"FinishedQuiz_success__3-3BU",error:"FinishedQuiz_error__1J64b"}},5:function(e,t,a){e.exports={AddNewItemPic:"TestItemInfoModal_AddNewItemPic__2WQqS",AddNewItemImgWrapper:"TestItemInfoModal_AddNewItemImgWrapper__3eMxW",AddNewItemPicBtns:"TestItemInfoModal_AddNewItemPicBtns__2DRie",AddNewItemBtnAddPic:"TestItemInfoModal_AddNewItemBtnAddPic__1o2Bw",AddNewItemBtnDeletePic:"TestItemInfoModal_AddNewItemBtnDeletePic__25tIC",AddNewItemLabel:"TestItemInfoModal_AddNewItemLabel__1Caxi",AddNewItemInputFile:"TestItemInfoModal_AddNewItemInputFile__d5mL8",AddNewItemInput:"TestItemInfoModal_AddNewItemInput__1Sk_N",AddNewItemInputBorder:"TestItemInfoModal_AddNewItemInputBorder__jArwe",AddNewItemInputBorderActive:"TestItemInfoModal_AddNewItemInputBorderActive__2ftEM",AddNewItemActions:"TestItemInfoModal_AddNewItemActions__vx--n",AddNewItemActionBtn:"TestItemInfoModal_AddNewItemActionBtn__Qdqoz",AddNewItemPicSpinner:"TestItemInfoModal_AddNewItemPicSpinner__fZ9pJ",load:"TestItemInfoModal_load__2OTgt",hue:"TestItemInfoModal_hue__3oCP2"}},56:function(e,t,a){e.exports={Main:"Main_Main__2KHio"}},58:function(e,t,a){e.exports={TestInfo:"TestInfo_TestInfo__1g9BZ"}},59:function(e,t,a){e.exports={AnswersList:"AnswersList_AnswersList__1AFu7"}},61:function(e,t,a){e.exports=a(122)},68:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){}},[[61,2,1]]]);
//# sourceMappingURL=main.6b8f2b26.chunk.js.map